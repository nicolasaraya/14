<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Para ti 仇벒잺</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background-image: url("https://sonnenblume.cl/cdn/shop/files/IMG_3071.png?v=1745859650&width=1946");
    background-repeat: repeat;
    background-size: 160px 160px; /* tama침o de cuadritos */
    overflow: hidden;
    color: white;
}

.container {
    position: relative;
    margin: auto;
    margin-top: 50px;
    text-align: center;
    background: rgba(0,0,0,0.35);
    padding: 25px;
    border-radius: 20px;
    width: 320px;
}

img {
    width: 100%;
    height: 300px;
    object-fit: cover;
    border-radius: 15px;
    margin-bottom: 15px;
}

.buttons {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 15px;
    position: relative;
}

button {
    font-size: 18px;
    padding: 12px 22px;
    border: none;
    border-radius: 12px;
    cursor: pointer;
}

#yesBtn {
    background: #00c853;
    color: white;
}

#noBtn {
    background: #d50000;
    color: white;
    position: relative;
}

.heart {
    position: fixed;
    animation: floatUp 4s linear infinite;
}

@keyframes floatUp {
    from {
        transform: translateY(100vh);
        opacity: 1;
    }
    to {
        transform: translateY(-10vh);
        opacity: 0;
    }
}
</style>
</head>
<body>

<div class="container">
  <img id="photo" src="https://dl.dropboxusercontent.com/scl/fi/tb7tqfby0m5e5kj2o2vw2/FullSizeRender.jpg?rlkey=uzz8of9sui90woy1mr3r6xcxg&st=meokmlv4&dl=0">
  <h2 id="question">쯈uieres ser mi San Valent칤n? 仇벒잺</h2>
  <div class="buttons">
    <button id="yesBtn">S칤 游눘</button>
    <button id="noBtn">No 游땩</button>
  </div>
</div>

<audio id="music" loop>
  <source src="https://dl.dropboxusercontent.com/scl/fi/nxwo720wyxb5hgduszilj/opalite.mp3?rlkey=kklwmocryaxyor9fb4ofgn2s8&st=npiakw7z&dl=0" type="audio/mpeg">
</audio>

<script>
let photos = [
  "https://dl.dropboxusercontent.com/scl/fi/tb7tqfby0m5e5kj2o2vw2/FullSizeRender.jpg?rlkey=uzz8of9sui90woy1mr3r6xcxg&st=meokmlv4&dl=0",
  "https://dl.dropboxusercontent.com/scl/fi/7ytfmfzvkged3omnu6k5j/f2e1c29c-1c7e-4b16-8b98-c79e778d972f.jpg?rlkey=thtjjix8zck2wteum1aj8tvjn&st=p2i7wo6j&dl=0",
  "https://dl.dropboxusercontent.com/scl/fi/sca4w3d1b5tqw3f1707x2/IMG_4633.jpg?rlkey=zcpcdjczvai1btj44wkh3nc5z&st=ajn3r5gm&dl=0",
  "https://dl.dropboxusercontent.com/scl/fi/ci76jj33cb2lq6l31kpdj/IMG_9050.jpg?rlkey=cxmkasjfzmrk5clkh8sffp6wu&st=0zafajdj&dl=0"
];

let messages = [
  "쮼st치s segura? 游봌",
  "No puedes escapar 游땗",
  "Int칠ntalo otra vez 仇벒잺",
  "Sabes que quieres decir que s칤 游땚",
  "Vamos... 游눚",
  "El bot칩n no coopera 游땓"
];

let index = 0;
let noBtn = document.getElementById("noBtn");
let yesBtn = document.getElementById("yesBtn");
let music = document.getElementById("music");

// Posici칩n inicial del bot칩n No junto al S칤
function resetNoBtnPosition(){
    noBtn.style.position = "relative";
    noBtn.style.left = "";
    noBtn.style.top = "";
}

function moveButton(){
    let container = document.querySelector(".container");
    let margin = 20;

    let maxX = container.offsetWidth - noBtn.offsetWidth - margin;
    let maxY = container.offsetHeight - noBtn.offsetHeight - margin;

    let x = Math.random() * maxX;
    let y = Math.random() * maxY;

    noBtn.style.left = x + "px";
    noBtn.style.top = y + "px";
    container.style.position = "relative";
}

noBtn.addEventListener("mouseover", moveButton);

noBtn.addEventListener("click", () => {
    index++;
    if(index >= photos.length){
        index = 0;
    }
    document.getElementById("photo").src = photos[index];
    let msg = messages[Math.floor(Math.random()*messages.length)];
    document.getElementById("question").innerText = msg + "\n쯈uieres ser mi San Valent칤n? 仇벒잺";

    // Volver a la posici칩n inicial centrada
    resetNoBtnPosition();
});

yesBtn.addEventListener("click", () => {
    document.getElementById("question").innerText = "Sab칤a que dir칤as que s칤 仇벒잺";
    noBtn.style.display = "none";
    yesBtn.style.display = "none";
    startHearts();
    startMusic();
});

function startHearts(){
    setInterval(()=>{
        let heart = document.createElement("div");
        heart.innerHTML = "仇벒잺";
        heart.className = "heart";
        heart.style.left = Math.random()*100+"vw";
        heart.style.fontSize = (Math.random()*20+20)+"px";
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(),4000);
    },300);
}

function startMusic(){
    music.currentTime = 52; // segundo donde comienza
    music.play();
}

// Inicializar posici칩n del bot칩n No al cargar
window.onload = resetNoBtnPosition;
</script>

</body>
</html>